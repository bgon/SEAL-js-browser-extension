(()=>{"use strict";({994:function(){var e=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))((function(i,a){function r(e){try{c(o.next(e))}catch(e){a(e)}}function s(e){try{c(o.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(r,s)}c((o=o.apply(e,t||[])).next())}))};function t(){const e=document.createElement("iframe");e.src="https://example.com",e.style.width="600px",e.style.height="400px",document.body.appendChild(e),e.onload=()=>{var t;null===(t=e.contentWindow)||void 0===t||t.postMessage("Hello from the parent page!","*")}}chrome.runtime.onInstalled.addListener((function(e){"install"===e.reason?(console.debug("This is a first-time install!"),chrome.storage.local.set({autoScan:!1})):"update"===e.reason?console.debug("The extension has been updated to version:",chrome.runtime.getManifest().version):"chrome_update"===e.reason&&console.debug("Chrome has been updated."),chrome.contextMenus.create({id:"viewMediaSignature",title:"View media signature",contexts:["audio","image","video"],documentUrlPatterns:["<all_urls>"]})})),chrome.action.onClicked.addListener((e=>{let n=e.id;n&&chrome.scripting.executeScript({target:{tabId:n},func:()=>t})})),chrome.contextMenus.onClicked.addListener(((e,t)=>{const n=e.srcUrl;if(null==n)return;const o={action:"viewMediaSignature",url:n};null!=(null==t?void 0:t.id)&&chrome.tabs.sendMessage(t.id,o)})),chrome.runtime.onMessage.addListener(((t,n,o)=>e(void 0,void 0,void 0,(function*(){if("openTab"===t.action){let e=(yield chrome.tabs.create({url:t.imageSrc,active:!1})).id;chrome.tabs.onUpdated.addListener(((n,o,i)=>{e==n&&"complete"===o.status&&(t={action:"viewMediaSignature",url:t.imageSrc},chrome.tabs.sendMessage(e,t))})),o({response:"tab opened"})}}))))}})[994]()})();