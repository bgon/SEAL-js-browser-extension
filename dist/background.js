(()=>{"use strict";chrome.runtime.onInstalled.addListener((function(e){"install"===e.reason?(console.debug("This is a first-time install!"),chrome.storage.local.set({autoScan:!1})):"update"===e.reason?console.debug("The extension has been updated to version:",chrome.runtime.getManifest().version):"chrome_update"===e.reason&&console.debug("Chrome has been updated."),chrome.contextMenus.create({id:"viewMediaSignature",title:"View media signature",contexts:["audio","image","video"],documentUrlPatterns:["<all_urls>"]})})),chrome.contextMenus.onClicked.addListener(((e,n)=>{const t=e.srcUrl;if(null==t)return;const o={action:"viewMediaSignature",url:t};null!=(null==n?void 0:n.id)&&chrome.tabs.sendMessage(n.id,o)}))})();